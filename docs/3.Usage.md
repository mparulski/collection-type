# Usage

This document will describe how to use CollectionType.

Every instance of CollectionType must define what type of elements will be held. First of all, you must define type and pass it to CollectionType instance.
PHP does not have generic type, hence it needs to define an object which will check elements of type.

For example, definition of object type looks like this:

```php
use CollectionType\Type\ObjectType;

$objectType = new ObjectType();
```
You can use other predefined types or define and use your own type. Types are described in [Types](/docs/4.Types.md) section.

After this, you can create collection, for example `HashSet`:

```php
use CollectionType\HashSet;

$set = new HashSet(new ObjectType());
```

Now, you can add, list, remove elements and do other things with defined collection. All public function will be described in [API](/docs/5.API.md) section.
Every added element must be the same type as defined in `HasSet` constructor.

For example:

```php
use CollectionType\HashSet;
use CollectionType\Type\ObjectType;

$objectType = new ObjectType();
$set = new HashSet($objectType);

$obj1 = new \stdClass();
$set->add($obj1);

$obj2 = new \stdClass();
$set->add($obj2);
```

You cannot add other element type as defined ObjectType. This causes error:
```php
$set->add('invalid element');
```

```sh
CollectionType\Exception\InvalidTypeException: The value is incorrect type. string given!
```

Getting all elements held in collection:

```php
$set->getAll();
```

Comparing types of collections:

```php
use CollectionType\HashSet;
use CollectionType\Type\IntegerType;
use CollectionType\Type\ObjectType;

$setIntegerType = new HashSet(new IntegerType());

$setObjectType = new HashSet(new ObjectType());

// it returns false
$setIntegerType->equalType($setObjectType->getType());
```

Adding `HashSet` to `HashSet` when both have the same type:

```php
use CollectionType\HashSet;
use CollectionType\Type\ObjectType;

$set1 = new HashSet(new ObjectType());
$set1->add(new \stdClass());

$set2 = new HashSet(new ObjectType());
$set2->add(new \stdClass());

$set1->addAll($set2);
```

### Navigate

* next to [Types](/docs/4.Types.md)
* back to [Library structure](/docs/2.LibraryStructure.md)
* go to [index](/docs/README.md)